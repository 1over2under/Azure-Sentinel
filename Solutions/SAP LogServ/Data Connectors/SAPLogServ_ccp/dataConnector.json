{
    "name": "[[concat(parameters('innerWorkspace'),'/Microsoft.SecurityInsights/','Push-',variables('connectorName'))]",
    "apiVersion": "2022-12-01-preview",
    "type": "Microsoft.OperationalInsights/workspaces/providers/dataConnectors",
    "location": "[parameters('workspace-location')]",
    "kind": "Push",
    "properties": {
        "connectorDefinitionName": "[[parameters('connectorDefinitionName')]",
        "dcrConfig": {
            "dataCollectionRuleId": "[[parameters('dcrConfig').dataCollectionRuleId]",
            "dataCollectionRuleImmutableId": "[[parameters('dcrConfig').dataCollectionRuleImmutableId]",
            "dataCollectionEndpoint": "[[parameters('dcrConfig').dataCollectionEndpoint]",
            "streamName": "SENTINEL_HEALTH"
        },
        "auth": {
            "type": "Push",
            "appId": "[[parameters('auth').appId]",
            "servicePrincipalId": "[[parameters('auth').servicePrincipalId]"
        },
        "response": {
            "eventsJsonPaths": [
                "$.messages"
            ]
        }
    }
}